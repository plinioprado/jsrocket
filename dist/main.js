!function(t){var e={};function i(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);var o=function(){return{id:"earth",state:{width:12756200,height:12756200,g:9.80665,position:{r:0,dec:0},style:{borderRadius:"50%",backgroundColor:"blue",zIndex:3}}}};document.onLoad=n;var n=void function(t){var e,i,n={create:i=function(t){var e=t.state.parentNodeId||"canvas",o=document.getElementById(e),n=document.createElement("div");n.id=t.id,t.state.style.position||(n.style.position="absolute"),Object.keys(t.state.style).forEach(e=>{n.style[e]=t.state.style[e]}),o.appendChild(n),t.state.children&&t.state.children.forEach(t=>{i({state:t,id:t.id})})},playStop:function(){n.state.play=!n.state.play,document.getElementById("time").style.color=n.state.play?"white":"red",r.update("timePlay"),n.state.play&&h()},update:function(t,i){var o=document.getElementById(t.id);i||(i=document.getElementById("canvas"));var n=e.zoom,r=t.state.position.pitchDec,s=a.state.width,d={dec:t.state.position.dec,r:t.state.position.r};"ship"===t.id&&d.r<s/2+10&&(d.r=s/2+10*n);var u,c={x:(u=d).r*Math.sin(u.dec*Math.PI/180),y:u.r*Math.cos(u.dec*Math.PI/180)};"ship"===t.id&&(c.x-=5*n);var h={x:c.x,y:c.y,height:t.state.height,width:t.state.width},l={};l.x=h.x,l.y=h.y,l.height=h.height,l.width=h.width;var m={};m.width=i.offsetWidth,m.height=i.offsetHeight,m.min=i.offsetHeight;var f="ship"===t.id?0:Math.round(m.width/200);if(o.style.width=Math.max(l.width/n,f)+"px",o.style.height=Math.max(l.height/n,f)+"px",o.style.left=m.width/2+(l.x-l.width/2)/n+"px",o.style.top=m.height/2+(-l.y+a.state.height/2-l.height/2)/n+"px",void 0!==r&&(o.style.transform="rotate("+(d.dec+r-90).toString()+"deg)"),"ship"===t.id){var y=document.getElementById("shipBurst");y&&(y.style.display=p.state.position.burst.a?"block":"none")}},state:e={widthIni:2e3,width:2e3,heightPx:0,widthPx:0,zoom:1,play:!0,time:0,timeSpeed:1,secondSkip:.1},timeMultiply:function(t){var e=n.state.timeSpeed*t;e<1&&(e=1),e>1e6&&(e=1e6),n.state.timeSpeed=parseInt(e),r.update("timeSpeed")},zoomMultiply:function(t){e.zoom*=t,e.zoom=Math.max(e.zoom,1),c()}},r=function(){var t={alt:function(){var t="m",e=p.state.position.r-a.state.width/2;return e>1e3&&(e/=1e3,t="km"),Math.round(e).toLocaleString("en-US")+t},long:function(){return function(t){var e=parseInt(t)+String.fromCharCode(176),i=(60*(t-parseInt(t))).toFixed(2);i<10&&(e+="0");return e+=i+"'"}(p.state.position.dec)},pitch:function(){return e(function(t){var e=t%360;e>180&&(e-=360);return e}(90-p.state.position.pitchDec))},climb:function(){var t=p.state.position.vDec+p.state.position.dec,e=p.state.position.vR*Math.cos(t*(Math.PI/180));return Math.round(e).toLocaleString("en-US")+"km/h"},vOrbit:function(){var t=p.state.position.vDec+p.state.position.dec,e=p.state.position.vR*Math.sin(t*(Math.PI/180));return Math.round(e).toLocaleString("en-US")+"km/h"},speed:function(){return Math.round(3.6*p.state.position.vR).toLocaleString("en-US")+"km/h"},burstA:function(){return(p.state.position.burst.a/a.state.g).toFixed(0)+"g ("+(p.state.position.burst.aNext/a.state.g).toFixed(0)+"g)"},burstT:function(){return Math.round(p.state.position.burst.t)+"s ("+p.state.position.burst.tNext.toFixed(0)+"s)"},scale:function(){var t,e=n.state.width/10*n.state.zoom;return(t=e)<1e3?t+"m":t/1e3+"km"},time:function(){var t=new Date(0,0,0,0,0,0,0),e=new Date(0,0,0,0,0,0,0);return e.setSeconds(n.state.time),parseInt((e-t)/864e5)+"d "+e.toLocaleTimeString("en-US",{hour12:!1})},head:function(){return e(p.state.position.vDec)},zoom:function(){var t=n.state.zoom;return t<1e3?t:Math.round(t/1e3)+"k"},timeSpeed:function(){return function(t){var e=t;t>=1e3?e=parseInt(t/1e3)+"k":t>=1e6&&(e=parseInt(t/1e6)+"M");return e}(n.state.timeSpeed)},timePlay:function(){return n.state.play?"Pause":"Play"}};function e(t){return Math.round(t)+String.fromCharCode(176)}return{update:function(e){e?document.getElementById(e).innerText=t[e]():Object.keys(t).forEach(e=>{document.getElementById(e).innerText=t[e]()})}}}(),a=o(),s=t.getEarthAtm(),d=t.getEarthLeo(),u=t.getBase(),p=function(){var t={width:0,height:0,position:{r:6378100,dec:0,pitchDec:0,vR:0,vDec:0,burst:{a:0,aNext:Math.round(39.2266),t:4,tNext:4}},style:{width:0,height:0,borderTop:"5px solid transparent",borderBottom:"5px solid transparent",borderLeft:"10px solid white",zIndex:2,transform:"rotate(-90deg)"},children:[{id:"shipEnd",parentNodeId:"ship",style:{position:"relative",width:10,height:10,borderTop:"5px solid transparent",borderBottom:"5px solid transparent",borderLeft:"4px solid black",marginTop:"-5px",marginLeft:"-10px"}},{id:"shipBurst",parentNodeId:"ship",style:{position:"relative",marginTop:"-15px",marginLeft:"-27px",width:"10px",height:"20px",backgroundColor:"red",transform:"rotate(-90deg)",borderRadius:"50%",boxShadow:"0px 2px 2px 1px rgba(249, 129, 2, 0.7)",zIndex:1}},{id:"shipBurstEnd",parentNodeId:"shipBurst",style:{width:"10px",height:"10px",backgroundColor:"black",zIndex:1}}]};return{id:"ship",addPitch:function(e){var i=(t.position.pitchDec+=e)%360;t.position.pitchDec=i},burstNextA:function(e){e<10&&(t.position.burst.aNext=Math.round(e*a.state.g*100)/100)},burstNextT:function(t){p.state.position.burst.tNext=Math.max(p.state.position.burst.tNext+t,0)},burstStart:function(){t.position.burst.a=t.position.burst.aNext,t.position.burst.t=t.position.burst.tNext},move:function(){var e,i={r:t.position.burst.a,dec:(e=t.position.dec+t.position.pitchDec,e%360)},o={r:-a.state.g/(t.position.r/(a.state.width/2))**2,dec:t.position.dec},r={r:t.position.vR,dec:t.position.vDec},s={r:t.position.r,dec:t.position.dec};if(s.r<a.state.width/2||s.r===a.state.width/2&&i.r<=0)t.position.r=a.state.width/2;else{var d=h(i),u=h(o),p=h(r),c=h(s);p.x+=(d.x+u.x)*n.state.secondSkip*n.state.timeSpeed,p.y+=(d.y+u.y)*n.state.secondSkip*n.state.timeSpeed,c.x+=p.x*n.state.secondSkip*n.state.timeSpeed,c.y+=p.y*n.state.secondSkip*n.state.timeSpeed,r=l(p),(s=l(c)).r<=a.state.width/2&&(r={r:0,dec:0}),t.position.vR=m(r.r),t.position.vDec=m(r.dec),t.position.r=m(s.r),t.position.dec=m(s.dec)}function h(t){return{x:t.r*Math.sin(t.dec*(Math.PI/180)),y:t.r*Math.cos(t.dec*(Math.PI/180))}}function l(t){return{r:(t.x**2+t.y**2)**.5,dec:Math.atan2(t.x,t.y)/(Math.PI/180)}}function m(t){return Math.round(1e9*t)/1e9}},state:t}}();function c(){n.update(a),n.update(s),n.update(d),n.update(u),n.update(p),r.update()}function h(){setTimeout((function(){n.state.play&&(n.state.time+=n.state.secondSkip*n.state.timeSpeed,p.state.position.burst.t>0&&(p.state.position.burst.t-=n.state.secondSkip),p.state.position.burst.t<0&&(p.state.position.burst.t=0),p.state.position.burst.t=Math.round(10*p.state.position.burst.t)/10,0===p.state.position.burst.t&&(p.state.position.burst.a=0),p.move(),n.update(p),r.update(),h())}),1e3*n.state.secondSkip)}n.create(a),n.create(s),n.create(d),n.create(u),n.create(p),c(),document.onclick=function(t){if("A"==t.target.nodeName){var e=t.target.href.replace(window.location.origin+"/#/","").replace(window.location.search,"");["file:","http:"].includes(e.substring(0,5))||(t.preventDefault(),"timePlay"===e?n.playStop():"zoomMinus"===e?n.zoomMultiply(2):"zoomPlus"===e?n.zoomMultiply(.5):"timePlus"===e?n.timeMultiply(2):"timeMinus"===e&&n.timeMultiply(.5))}},document.onkeydown=function(t){var e=t.code;"KeyP"===e?n.playStop():"ArrowUp"===e?p.addPitch(10):"ArrowDown"===e?p.addPitch(-10):"KeyA"===e?p.burstNextT(1):"KeyZ"===e?p.burstNextT(-1):"Minus"===e?n.zoomMultiply(2):"Equal"===e?n.zoomMultiply(.5):"Period"===e?n.timeMultiply(2):"Comma"===e?n.timeMultiply(.5):"Digit"===e.substring(0,5)&&p.burstNextA(e.replace("Digit",""));if(!n.state.play)return;"Space"===e&&p.burstStart()},h()}({getEarth:o,getBase:function(){return{id:"base",state:{width:100,height:5,position:{r:6378095,dec:0},style:{backgroundColor:"yellow",zIndex:4}}}},getEarthAtm:function(){return{id:"earthAtm",state:{width:12956200,height:12956200,position:{r:0,dec:0},style:{borderRadius:"50%",backgroundColor:"#ADD8E6",zIndex:2}}}},getEarthLeo:function(){return{id:"earthLeo",state:{width:14756200,height:14756200,position:{r:0,dec:0},style:{borderRadius:"50%",backgroundColor:"#303030",zIndex:1}}}}})}]);